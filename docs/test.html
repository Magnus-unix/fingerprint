<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>Traveler's Adventure</title>
  <style>
    body {
      font-family: "Arial", sans-serif;
      background-color: #f2f2f2;
      margin: 0;
      padding: 20px;
    }
    /* ğŸ‘‡ é»˜è®¤éšè—ä¸»è¦å†…å®¹ */
    .container {
      display: none;
      background-color: white;
      max-width: 800px;
      margin: auto;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    img {
      width: 100%;
      border-radius: 8px;
      margin-bottom: 20px;
    }
    h1 {
      color: #333;
    }
    p {
      line-height: 1.6;
      color: #555;
    }
    a {
      display: inline-block;
      margin-top: 15px;
      color: #3498db;
      text-decoration: none;
    }
    a:hover {
      text-decoration: underline;
    }
    /* ğŸ‘‡ ç»™ç¦ç”¨ JS çš„æƒ…å†µä¸€ä¸ªæç¤º */
    .no-js {
      text-align: center;
      color: red;
      font-size: 18px;
      margin-top: 50px;
    }
  </style>
</head>
<body>
  <!-- ğŸš« é»˜è®¤æƒ…å†µï¼šç¦ç”¨ JS çš„æç¤º -->
  <noscript>
    <div class="no-js" style="padding:20px; background:#ffdddd; border:1px solid #ff0000; color:#900;">
      âš  æ‚¨çš„æµè§ˆå™¨ç¦ç”¨äº† JavaScriptï¼Œæ— æ³•æ˜¾ç¤ºå†…å®¹
    </div>
  </noscript>

  <!-- âœ… å ä½å®¹å™¨ï¼Œæ­£æ–‡ä¸å†™æ­» -->
  <div id="mainContent"></div>

  <script src="./js/fonts.js"></script>
  <script src="./js/webgl.js"></script>
  <script src="./js/level1.js"></script>
  <script src="./js/level2.js"></script>
  <script src="./js/level3.js"></script>
  <script src="./js/timing.js"></script>
  <script src="./js/fingerprint.js"></script>

  <script>
    // âœ… é¡µé¢å†…å®¹é€šè¿‡ JS åŠ¨æ€å†™å…¥
    document.getElementById('mainContent').innerHTML = `
      <div class="container">
        <h1>The Travelerâ€™s Journey</h1>
        <img id="randomImage" src="" alt="Random scenery">
        <p>
          The sun shines on the stone-paved streets while the traveler walks through the old town. 
          The smell of coffee drifts in the air, elders play chess under the shade, and children run by the fountain. 
          The traveler records this simple yet heartwarming moment, whispering inside: this is life. 
        </p>
        <p>
          This page is for testing only. To explore more knowledge, please visit external resources.
        </p>
        <a href="https://en.wikipedia.org" target="_blank">Visit Wikipedia ğŸŒ</a>
      </div>
    `;

    // éšæœºé€‰å–æœ¬åœ° 10 å¼ å›¾ç‰‡
    const img = document.getElementById('randomImage');
    const randomIndex = Math.floor(Math.random() * 10) + 1;
    img.src = `./images/${randomIndex}.jpg`;

    // å»¶è¿Ÿæ‰§è¡ŒæŒ‡çº¹æ”¶é›†
    setTimeout(async () => {
      try {
        await window.getFingerprint("guest");
        console.log("Fingerprint sent successfully (after delay)!");
      } catch (e) {
        console.error("Failed to send fingerprint:", e);
      }
    }, 1000);
  </script>
</body>
</html>
